{% extends 'base.html.twig' %}

{% block title %}Dachdeckerei Schneider{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/home.css') }}">
    <link rel="stylesheet" href="{{ asset('css/navbar.css') }}">   
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Oswald:wght@500&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Freeman&family=Oswald:wght@500&display=swap" rel="stylesheet">
{% endblock %}

{% block javascripts %}
<script src="https://cdn.jsdelivr.net/npm/tilt.js@1.2.1"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const heroText = document.querySelector(".hero-image");
    Tilt.init(heroText, {
        maxTilt: 20,
        perspective: 1000, 
        scale: 1.05 
    });
});

document.addEventListener("scroll", function() {
    const section = document.querySelector('.service-section');
    const viewportHeight = window.innerHeight;
    const sectionTop = section.offsetTop;
    const sectionHeight = section.offsetHeight;
    const scrollPosition = window.pageYOffset + viewportHeight;

    let skewValue = 0;

    if (scrollPosition > sectionTop && scrollPosition < sectionTop + sectionHeight * 0.5) { // Beendet die Skew-Animation früher
        const distanceIntoSection = scrollPosition - sectionTop;
        const percentage = Math.min(1, distanceIntoSection / (sectionHeight * 0.5)); // Verwendet nur 50% der Sektionshöhe
        skewValue = 10 - (percentage * 10);
    } else if (scrollPosition <= sectionTop) {
        skewValue = 10; // Maximaler Skew-Winkel, wenn oberhalb der Sektion
    } else {
        skewValue = 0; // Kein Skew, wenn man weit genug gescrollt hat
    }

    section.style.transform = `skewY(-${skewValue}deg)`;
});


document.addEventListener("scroll", function() {
    const navbar = document.querySelector('.navbar');
    if (window.pageYOffset > 50) {
        navbar.classList.add('scrolled');
    } else {
        navbar.classList.remove('scrolled');
    }
});
document.addEventListener("scroll", function() {
    const navbar = document.querySelector('.social-media');
    if (window.pageYOffset > 50) { 
        navbar.classList.add('scrolled');
    } else {
        navbar.classList.remove('scrolled');
    }
});
document.addEventListener('scroll', function () {
    const scrolled = window.pageYOffset;
    const heroImage = document.querySelector('.hero-image');
    heroImage.style.transform = `translateY(${scrolled * 0.5}px)`;
});
</script>
{% endblock %}

{% block body %}
<div class="main-wrapper" style="width: 100%;">
    <div class="hero-section" data-tilt data-tilt-max="50" data-tilt-speed="400" data-tilt-perspective="500">
        <img src="{{ asset('images/heroSectionImage.jpeg') }}" alt="Schneider Dachtechnik" class="hero-image" data-tilt data-tilt-max="50" data-tilt-speed="400" data-tilt-perspective="500">
        <div class="hero-overlay"></div>
        <div class="hero-text">
        <div class="text-container">
            <h1 class="hero-title">SCHNEIDER</h1>
            <h2 class="hero-subtitle">Dachtechnik</h2>
            <hr class="hr">
        </div>
    </div>
    </div>
    <div class="service-section" id="services">
    <div class="container">
        <div class="heading-container">
            <h1 class="background-text">Dienstleistungen</h1>
            <h2 class="foreground-text">Was bieten wir Ihnen?</h2>
        </div>
        <div class="service-grid">
            <div class="service-card" role="button" tabindex="0" onclick="window.location.href='details.html';">
                <img src="{{ asset('images/reinigung.png') }}" alt="Renovierung">
                <h3>Renovierung</h3>
                <p>Professionelle Renovierungsarbeiten mit höchster Qualität und Effizienz.</p>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="window.location.href='details.html';">
                <img src="{{ asset('images/dachdeckerMann.png') }}" alt="Architektur">
                <h3>Architektur</h3>
                <p>Individuelle und innovative Architekturlösungen für moderne Räume.</p>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="window.location.href='details.html';">
                <img src="{{ asset('images/fenster.png') }}" alt="Bauarbeiten">
                <h3>Bauarbeiten</h3>
                <p>Zuverlässige und nachhaltige Bauausführung für Ihr nächstes Projekt.</p>
            </div>
            <div class="service-card" role="button" tabindex="0" onclick="window.location.href='details.html';">
                <img src="{{ asset('images/mehr.png') }}" alt="Finanzlösungen">
                <h3>Finanzlösungen</h3>
                <p>Effiziente Finanzstrategien und -lösungen, die Ihr Geschäft voranbringen.</p>
            </div>
        </div>
        <button class="button">Alle Dienstleistungen ansehen</button>
    </div>
    </div>
    <div class="contact-section"></div>
</div>
{% endblock %}
